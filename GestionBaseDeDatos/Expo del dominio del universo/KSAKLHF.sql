
/*CREAR TABLA DE ADMINISTRADOR*/
CREATE TABLE ADMINISTRADOR(
 ADMI_ID INTEGER PRIMARY KEY,
 ADMI_CEDULA INTEGER,
 ADMI_NOMBRE VARCHAR (20),
 ADMI_APELLIDO VARCHAR(20),
 ADMI_CELULAR INTEGER
);
/*INSERTAR DATOS DE ADMINISTRADOR*/
insert into ADMINISTRADOR (ADMI_ID, ADMI_CEDULA, ADMI_NOMBRE, ADMI_APELLIDO, ADMI_CELULAR) VALUES
 (001,1315698526 ,'STEFANY', 'PICO', 0988682451);
insert into ADMINISTRADOR (ADMI_ID, ADMI_CEDULA, ADMI_NOMBRE, ADMI_APELLIDO, ADMI_CELULAR) VALUES
 (002,1315698526 ,'JACQUELINE', 'ALCIVAR MENDOZA', 0988682451);
insert into ADMINISTRADOR (ADMI_ID, ADMI_CEDULA, ADMI_NOMBRE, ADMI_APELLIDO, ADMI_CELULAR) VALUES
 (003,1379354120 ,'LUCIA', 'DELGADO MANTUANO', 0991843520);
 insert into ADMINISTRADOR (ADMI_ID, ADMI_CEDULA, ADMI_NOMBRE, ADMI_APELLIDO, ADMI_CELULAR) VALUES
 (004,1387565254,'PEDRO', 'MOREIRA CEVALLOS',  0943118520);
 insert into ADMINISTRADOR (ADMI_ID, ADMI_CEDULA, ADMI_NOMBRE, ADMI_APELLIDO, ADMI_CELULAR) VALUES
 (005,1325547893 ,'EDUARDO', 'ZAMBRANO CEDEÑO', 0978463200);
 insert into ADMINISTRADOR (ADMI_ID, ADMI_CEDULA, ADMI_NOMBRE, ADMI_APELLIDO, ADMI_CELULAR) VALUES
 (006,1376008610 ,'TONY', 'ANCHUNDIA MURILLO', 0984521884);
 insert into ADMINISTRADOR (ADMI_ID, ADMI_CEDULA, ADMI_NOMBRE, ADMI_APELLIDO, ADMI_CELULAR) VALUES
 (007,1318761054 ,'YULETZI', 'ALVAREZ RODRIGUEZ', 0987325656);
 
/*CREAR TABLA DE BINGO*/
CREATE TABLE BINGO(
BIN_NUMERO INTEGER PRIMARY KEY,
BIN_DATE DATE,
ADMI_ID INTEGER NULL, 
CONSTRAINT ADMI_ID foreign key (ADMI_ID)
REFERENCES ADMINISTRADOR(ADMI_ID) ON UPDATE CASCADE
);

/*INSERTAR DATOS DE BINGO*/
insert into BINGO (BIN_NUMERO, BIN_DATE, ADMI_ID) VALUES
 (0001,'17/11/2020', 001);
insert into BINGO (BIN_NUMERO, BIN_DATE, ADMI_ID) VALUES
 (0002,'10/08/2020', 004);
insert into BINGO (BIN_NUMERO, BIN_DATE, ADMI_ID) VALUES
 (0003,'10/09/2020', 006);
 insert into BINGO (BIN_NUMERO, BIN_DATE, ADMI_ID) VALUES
 (0004,'10/10/2020', 003);
 insert into BINGO (BIN_NUMERO, BIN_DATE, ADMI_ID) VALUES
 (0005,'10/11/2020', 002);
 insert into BINGO (BIN_NUMERO, BIN_DATE, ADMI_ID) VALUES
 (0006,'10/12/2020', 005);
  insert into BINGO (BIN_NUMERO, BIN_DATE, ADMI_ID) VALUES
 (0007,'10/01/2021', 007);

/*CREAR TABLA DE USUARIO*/
CREATE TABLE USUARIO(
 CLI_CODIGO INT PRIMARY KEY,
 CLI_NOMBRE VARCHAR(20),
 CLI_APELLIDO VARCHAR(20),
 CLI_CEDULA INTEGER,
 CLI_DIRECCION VARCHAR(30),
 CLI_FECHA_NACIMIENTO DATE,
 BIN_NUMERO INTEGER NULL,
 CONSTRAINT BIN_NUMERO foreign key (BIN_NUMERO)
 REFERENCES BINGO(BIN_NUMERO) ON UPDATE CASCADE
);

/*INSERTAR DATOS DE USUARIO*/
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (001, 'JOSSELYN', 'MACIAS', 1350696397, 'ALTAMIRA FRENTE A LA ESCUELA', '20/08/2000', 0001);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (002, 'BRYAN', 'ARTEAGA CEDEÑO', 1379954265, 'CUBA', '17/09/1997', 0003);
 insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (003, 'VICTORIA', 'CEDEÑO MACIAS', 1302587998, 'ALTAGRACIA', '01/12/1998', 0001);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (004, ' MANUEL', 'BAUTISTA ENCINA', 1348762554, 'VIA JARAMIJO', '17/10/2000', 0002);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (005, 'GENARO', 'LOPEZ GENARO', 1356877230, 'VILLAMARINA', '15/07/1995', 0003);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (006, 'ROCIO', 'ALONZO IBARRA', 1378625120, 'AV 4 DE NOVIEMBRE', '26/08/1999', 0005);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (007, 'ROSARIO', 'MARCIAL SALGADO', 1397521200, 'FRENTE AL PARQUE DEL CENTRO', '20/01/2000', 0007);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (008, 'JUAN', 'PEREZ ZAMORA', 1316587423, 'DIAGONAL A LA FERRETERIA ', '30/05/2001', 0004);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (009, 'LUIS', 'SOSA INTRIAGO', 1379121215, 'CALLE 38 AV 104', '01/01/1992', 0002);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (010, 'PEDRO', 'RUIZ ZAMORA', 1358798524, 'AV 108 CALLE 112 ESQUINA', '20/11/2000', 0004);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (011, 'LEONEL', 'MONTOYA CEDEÑO', 1310259785, 'LOS ESTEROS FRENTE AL TIA', '17/02/1997', 0006);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (012, 'EDUARDO', 'MOSQUERA RODRIGUEZ', 1368751221, 'VIA SAN MATEO', '21/06/1989', 0001);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (013, 'PATRICIO', 'GUITIERREZ RIVERA', 1305498575, 'CIUDADELA UNIVERSITARIA', '08/12/1990', 0007);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (014, 'MARIO', 'FREIRE CISNEROS', 1305487921, 'EL PALMAR FRENTE AL TERMINAR', '16/06/1994', 0005);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (015, 'MILTON', 'LUCAS CHECA', 1316468852, 'ALTAMIRA', '28/04/2000', 0002);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (016, 'MARIA', 'PIGUAVE HOLGUIN', 1395246321, 'BARRIO SAN JOSE', '10/01/1999', 0007);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (017, 'CECILIA', 'MOLINA MACIAS', 1315568651, 'CALLE 53 AVENIDA 19', '25/08/1996', 0006);
insert into USUARIO (CLI_CODIGO, CLI_NOMBRE, CLI_APELLIDO, CLI_CEDULA, CLI_DIRECCION, CLI_FECHA_NACIMIENTO, BIN_NUMERO) VALUES
 (018, 'BETTY', 'RODRIGUEZ LARCO', 1345995532, 'BARRIO CENTRO ', '07/09/2002', 0005);


/*CREAR TABLA DE INSCRIPCION*/
CREATE TABLE INSCRIPCION(
INC_CODIGO INTEGER PRIMARY KEY,
INC_MESES INTEGER,
INC_DESCUENTO FLOAT,
INC_FECHA DATE,
ADMI_ID INTEGER NULL,
CLI_CODIGO INT NULL, 
CONSTRAINT ADMI_ID foreign key (ADMI_ID)
REFERENCES ADMINISTRADOR(ADMI_ID) ON UPDATE CASCADE,
CONSTRAINT CLI_CODIGO  foreign key (CLI_CODIGO )
REFERENCES USUARIO(CLI_CODIGO ) ON UPDATE CASCADE
);

  /*INSERTAR DATOS DE INSCRIPCION*/
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,  INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0001,5 ,0.00 ,'07/10/2020',004, 008);
 insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO ,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0002,1 ,0.00, '19/09/2020',004, 010);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO, INC_FECHA,ADMI_ID, CLI_CODIGO ) VALUES
 (0003,2 ,0.00,'03/07/2020', 001, 001);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0004,3 ,0.00,'30/06/2020', 001, 003);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0005,2 ,0.00,'28/06/2020', 001, 012);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0006,1 ,0.00,'20/07/2020', 002, 004);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0007,3 ,0.00,'08/08/2020', 002, 009);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0008,6 ,0.00,'07/08/2020', 002, 015);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0009,2 ,0.00,'09/09/2020', 003, 002);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO, INC_FECHA,ADMI_ID, CLI_CODIGO ) VALUES
 (0010,1 ,0.00,'07/09/2020', 003, 005);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0011,1 ,0.00,'08/11/2020', 005, 006);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0012,3 ,0.00,'05/11/2020', 005, 014);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0013,4 ,0.00,'09/11/2020', 005, 018);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0014,3 ,0.00,'24/11/2020', 006, 011);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0015,2 ,0.00, '08/12/2020', 006, 017);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0016,1 ,0.00,'07/01/2020', 007, 007);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0017,3 ,0.00,'28/12/2021', 007, 013);
insert into INSCRIPCION (INC_CODIGO , INC_MESES, INC_DESCUENTO,INC_FECHA, ADMI_ID, CLI_CODIGO ) VALUES
 (0018,2 ,0.00,'05/01/2020', 007, 016);


/*CREAR TABLA DE PAGO*/
CREATE TABLE PAGO(
PAG_CODIGO INTEGER PRIMARY KEY,
PAG_TOTAL FLOAT,
PAG_REALIZADO FLOAT,
PAG_DEUDA FLOAT,
INC_CODIGO INTEGER NULL,
CONSTRAINT INC_CODIGO  foreign key (INC_CODIGO )
REFERENCES INSCRIPCION(INC_CODIGO ) ON UPDATE CASCADE
);

 /*INSERTAR DATOS DE PAGO*/
insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0001, 0001);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0002, 0002);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0003, 0003);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0004, 0004);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0005, 0005);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0006, 0006);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0007, 0007);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0008, 0008);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (009, 009);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0010, 0010);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0011, 0011);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0012, 0012);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0013, 0013);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0014, 0014);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0015, 0015);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0016, 0016);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0017, 0017);
 insert into PAGO (PAG_CODIGO, INC_CODIGO) VALUES
 (0018, 0018);



/* UNION DE TODAS LAS TABLAS */
SELECT 
  bingo.bin_numero, 
  administrador.admi_nombre, 
  usuario.cli_nombre, 
  inscripcion.inc_meses, 
  inscripcion.inc_descuento, 
  pago.pag_total
FROM   public.inscripcion 
inner join public.administrador on administrador.admi_id = inscripcion.admi_id
inner join public.bingo on administrador.admi_id = bingo.admi_id
inner join  public.pago on inscripcion.inc_codigo = pago.inc_codigo
inner join public.usuario on usuario.cli_codigo = inscripcion.cli_codigo
WHERE inscripcion.inc_meses = 5


 /*MOSTRAR LOS DATOS DEL ADMINISTRADOR*/
select * FROM ADMINISTRADOR

 /*MOSTRAR LOS DATOS DEL BINGO*/
select * FROM BINGO

/*MOSTRAR LOS DATOS DEL USUARIO*/
select * FROM USUARIO

 /*MOSTRAR LOS DATOS DE LA INSCRIPCION*/
select * FROM INSCRIPCION


/*MOSTRAR LOS DATOS DEL PAGO*/
select * FROM PAGO


DROP TABLE PAGO CASCADE